/**
 * rubico v2.2.2
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2023 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.pipe=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=Promise.all.bind(Promise),e=(t,e)=>function(...o){const r=t(...o);return n(r)?r.then(e):e(r)},o=(n,t)=>n(...t),r=Symbol.for("placeholder");return function(...u){const i=u.pop().reduce(e);return 0==u.length?i:function(t){const e=t.length;let o=-1;for(;++o<e;){const e=t[o];if(n(e))return!0}return!1}(u)?t(u).then((c=o,l=r,(f=i)==r?((n,t)=>function(e){return n(e,t)})(c,l):((n,t)=>function(e){return n(t,e)})(c,f))):i(...u);var c,f,l}}());
