/**
 * rubico v1.9.2
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.switchCase=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=(n,t,o)=>n?t():o(),o=(n,t)=>function(){return n(...t)},e=(n,t,o,e)=>function(){return n(t,o,e)},r=Symbol.for("placeholder"),u=function(n,t,o,e){return t==r?((n,t,o)=>function(e){return n(e,t,o)})(n,o,e):o==r?((n,t,o)=>function(e){return n(t,e,o)})(n,t,e):((n,t,o)=>function(e){return n(t,o,e)})(n,t,o)},f=n=>function(){return n},i=function(c,l,s){const h=c.length-1;for(;(s+=2)<h;){const h=c[s],p=c[s+1],y="function"==typeof h?h(...l):h;if(n(y))return y.then(u(t,r,"function"==typeof p?o(p,l):f(p),e(i,c,l,s)));if(y)return"function"==typeof p?p(...l):p}if(s==c.length)return;const p=c[h];return"function"==typeof p?p(...l):p},c=(n,t,o)=>function(){return n(t,o)},l=function(o,e){const i=o.length,s=i-1;for(;(e+=2)<s;){const i=o[e],s=o[e+1];if(n(i))return i.then(u(t,r,f(s),c(l,o,e)));if(i)return s}if(e!=i)return o[e]};return n=>function(n){const t=n.length;let o=-1;for(;++o<t;)if("function"==typeof n[o])return!1;return!0}(n)?l(n,-2):function(...t){return i(n,t,-2)}}());
