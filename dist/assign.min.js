/**
 * rubico v2.6.0
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2024 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.assign=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=Object.assign,e=Symbol.for("placeholder"),o=function(n,t,o){return t==e?((n,t)=>function(e){return n(e,t)})(n,o):((n,t)=>function(e){return n(t,e)})(n,t)},u=function(n,t,o,u){return t==e?((n,t,e)=>function(o){return n(o,t,e)})(n,o,u):o==e?((n,t,e)=>function(o){return n(t,o,e)})(n,t,u):((n,t,e)=>function(o){return n(t,e,o)})(n,t,o)},r=Promise.all.bind(Promise),i=function(n,t,e){return n[t]=e,n},c=function(o,c){const f=function(t,o){const c={},f=[];for(const r in t){const s=t[r](...o);n(s)?f.push(s.then(u(i,c,r,e))):c[r]=s}return 0==f.length?c:r(f).then((s=c,function(){return s}));var s}(c,[o]);return n(f)?f.then(u(t,{},o,e)):{...o,...f}};return function(t,u){return null==u?o(c,e,t):n(t)?t.then(o(c,e,u)):c(t,u)}}());
