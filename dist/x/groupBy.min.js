/**
 * Rubico v2.8.2
 * https://rubico.land/
 *
 * Â© Richard Yufei Tong, King of Software
 * Rubico may be freely distributed under the CFOSS license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define(()=>t):n.groupBy=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=()=>new Map,t=n=>null!=n&&"function"==typeof n.then,e=Symbol.for("placeholder"),r=function(n,t,r,o){return t==e?((n,t,e)=>function(r){return n(r,t,e)})(n,r,o):r==e?((n,t,e)=>function(r){return n(t,r,e)})(n,t,o):((n,t,e)=>function(r){return n(t,e,r)})(n,t,r)},o=Array.isArray,u=(Object.values,Object.prototype.toString,async function(n,e,r){let o=n.next();if(o.done)return r;for(;!o.done;)r=e(r,o.value),t(r)&&(r=await r),o=n.next();return r}),f=Symbol.iterator,i=Symbol.asyncIterator,c=function(n,t,r){return t==e?((n,t)=>function(e){return n(e,t)})(n,r):((n,t)=>function(e){return n(t,e)})(n,t)},a=function(n,t,r,o,u){return t==e?((n,t,e,r)=>function(o){return n(o,t,e,r)})(n,r,o,u):r==e?((n,t,e,r)=>function(o){return n(t,o,e,r)})(n,t,o,u):o==e?((n,t,e,r)=>function(o){return n(t,e,o,r)})(n,t,r,u):((n,t,e,r)=>function(o){return n(t,e,r,o)})(n,t,r,o)},l=async function(n,e,r,o){const u=n.length;for(;++o<u;)r=e(r,n[o],o,n),t(r)&&(r=await r);return r},s=function(n,t,r,o,u,f){return t==e?((n,t,e,r,o)=>function(u){return n(u,t,e,r,o)})(n,r,o,u,f):r==e?((n,t,e,r,o)=>function(u){return n(t,u,e,r,o)})(n,t,o,u,f):o==e?((n,t,e,r,o)=>function(u){return n(t,e,u,r,o)})(n,t,r,u,f):u==e?((n,t,e,r,o)=>function(u){return n(t,e,r,u,o)})(n,t,r,o,f):((n,t,e,r,o)=>function(u){return n(t,e,r,o,u)})(n,t,r,o,u)},y=Object.keys,p=async function(n,e,r,o,u){const f=o.length;for(;++u<f;){const f=o[u];r=e(r,n[f],f,n),t(r)&&(r=await r)}return r},d=async function(n,e,r,o){for(const[u,f]of o)r=e(r,f,u,n),t(r)&&(r=await r);return r},h=function(n,h,v){return o(n)?function(n,r,o){const u=n.length;let f=-1;for(void 0===o&&(o=n[++f]);++f<u;)if(o=r(o,n[f],f,n),t(o))return o.then(a(l,n,r,e,f));return o}(n,h,v):null==n?void 0===v?c(h,n,e):h(v,n):n.constructor==Map?function(n,r,o){const u=n.entries();if(void 0===o){const n=u.next();if(n.done)return o;o=n.value[1]}for(const[f,i]of u)if(o=r(o,i,f,n),t(o))return o.then(a(d,n,r,e,u));return o}(n,h,v):"function"==typeof n[f]?function(n,o,f){let i=n.next();if(i.done)return f;for(void 0===f&&(f=i.value,i=n.next());!i.done;){if(f=o(f,i.value),t(f))return f.then(r(u,n,o,e));i=n.next()}return f}(n[f](),h,v):"function"==typeof n[i]?async function(n,t,e){let r=await n.next();if(r.done)return e;for(void 0===e&&(e=r.value,r=await n.next());!r.done;)e=await t(e,r.value),r=await n.next();return e}(n[i](),h,v):"function"==typeof n.reduce?n.reduce(h,v):"function"==typeof n.chain?n.chain(c(h,v,e)):"function"==typeof n.flatMap?n.flatMap(c(h,v,e)):n.constructor==Object?function(n,r,o){const u=y(n),f=u.length;let i=-1;for(void 0===o&&(o=n[u[++i]]);++i<f;){const f=u[i];if(o=r(o,n[f],f,n),t(o))return o.then(s(p,n,r,e,u,i))}return o}(n,h,v):void 0===v?c(h,n,e):h(v,n)},v=function(n,o,u){if("function"==typeof u){const f=u(n);return t(f)?f.then(r(h,n,o,e)):h(n,o,f)}return t(u)?u.then(r(h,n,o,e)):h(n,o,u)},b=function(...n){return"function"==typeof n[0]?r(v,e,n[0],n[1]):t(n[0])?n[0].then(r(v,e,n[1],n[2])):v(n[0],n[1],n[2])},x=function(n,t,e){const r=n.get(t);return null==r?n.set(t,[e]):r.push(e),n};return o=>{return b("function"==typeof o?(f=o,function(n,o){const u=f(o);return t(u)?u.then(r(x,n,e,o)):x(n,u,o)}):(u=o,function(n,t){return x(n,t[u],t)}),n);var u,f}}());
