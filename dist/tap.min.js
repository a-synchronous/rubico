/**
 * rubico v2.2.1
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2023 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.tap=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=n=>function(){return n},e=(n,t,e)=>n?t():e(),o=Symbol.for("placeholder"),r=function(e,o){const r=e[0],u=o(...e);return n(u)?u.then(t(r)):r},u=function(...n){const t=n.pop();return 0==n.length?(e=r,f=t,(u=o)==o?((n,t,e)=>function(...e){return n(e,t)})(e,f):((n,t,e)=>function(...e){return n(t,e)})(e,u)):r(n,t);var e,u,f};return u.if=(r,f)=>function(...i){const c=r(...i);if(n(c))return c.then((l=e,s=o,h=((n,t)=>function(){return n(...t)})(u(f),i),p=t(i[0]),s==o?((n,t,e)=>function(o){return n(o,t,e)})(l,h,p):h==o?((n,t,e)=>function(o){return n(t,o,e)})(l,s,p):((n,t,e)=>function(o){return n(t,e,o)})(l,s,h)));var l,s,h,p;if(c){const e=f(...i);if(n(e))return e.then(t(i[0]))}return i[0]},u}());
